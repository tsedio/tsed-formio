import{g as ht}from"./_commonjsHelpers-042e6b4d.js";var Be={exports:{}};/*! @formio/choices.js v9.0.1 | Â© 2021 Josh Johnson | https://github.com/jshjohnson/Choices#readme */(function(Ve,dt){(function(Q,w){Ve.exports=w()})(window,function(){return function(Z){var Q={};function w(f){if(Q[f])return Q[f].exports;var O=Q[f]={i:f,l:!1,exports:{}};return Z[f].call(O.exports,O,O.exports,w),O.l=!0,O.exports}return w.m=Z,w.c=Q,w.d=function(f,O,g){w.o(f,O)||Object.defineProperty(f,O,{enumerable:!0,get:g})},w.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},w.t=function(f,O){if(O&1&&(f=w(f)),O&8||O&4&&typeof f=="object"&&f&&f.__esModule)return f;var g=Object.create(null);if(w.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:f}),O&2&&typeof f!="string")for(var h in f)w.d(g,h,function(S){return f[S]}.bind(null,h));return g},w.n=function(f){var O=f&&f.__esModule?function(){return f.default}:function(){return f};return w.d(O,"a",O),O},w.o=function(f,O){return Object.prototype.hasOwnProperty.call(f,O)},w.p="/public/assets/scripts/",w(w.s=4)}([function(Z,Q,w){var f=function(m){return O(m)&&!g(m)};function O(u){return!!u&&typeof u=="object"}function g(u){var m=Object.prototype.toString.call(u);return m==="[object RegExp]"||m==="[object Date]"||A(u)}var h=typeof Symbol=="function"&&Symbol.for,S=h?Symbol.for("react.element"):60103;function A(u){return u.$$typeof===S}function x(u){return Array.isArray(u)?[]:{}}function j(u,m){return m.clone!==!1&&m.isMergeableObject(u)?C(x(u),u,m):u}function R(u,m,y){return u.concat(m).map(function(_){return j(_,y)})}function K(u,m){if(!m.customMerge)return C;var y=m.customMerge(u);return typeof y=="function"?y:C}function k(u){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(u).filter(function(m){return u.propertyIsEnumerable(m)}):[]}function L(u){return Object.keys(u).concat(k(u))}function d(u,m){try{return m in u&&!(Object.hasOwnProperty.call(u,m)&&Object.propertyIsEnumerable.call(u,m))}catch{return!1}}function v(u,m,y){var _={};return y.isMergeableObject(u)&&L(u).forEach(function(I){_[I]=j(u[I],y)}),L(m).forEach(function(I){d(u,I)||(!y.isMergeableObject(m[I])||!u[I]?_[I]=j(m[I],y):_[I]=K(I,y)(u[I],m[I],y))}),_}function C(u,m,y){y=y||{},y.arrayMerge=y.arrayMerge||R,y.isMergeableObject=y.isMergeableObject||f,y.cloneUnlessOtherwiseSpecified=j;var _=Array.isArray(m),I=Array.isArray(u),G=_===I;return G?_?y.arrayMerge(u,m,y):v(u,m,y):j(m,y)}C.all=function(m,y){if(!Array.isArray(m))throw new Error("first argument should be an array");return m.reduce(function(_,I){return C(_,I,y)},{})};var P=C;Z.exports=P},function(Z,Q,w){(function(f,O){var g=w(3),h;typeof self<"u"?h=self:typeof window<"u"?h=window:typeof f<"u"?h=f:h=O;var S=Object(g.a)(h);Q.a=S}).call(this,w(5),w(6)(Z))},function(Z,Q,w){/*!
 * Fuse.js v3.4.5 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */(function(f,O){Z.exports=O()})(this,function(){return function(f){var O={};function g(h){if(O[h])return O[h].exports;var S=O[h]={i:h,l:!1,exports:{}};return f[h].call(S.exports,S,S.exports,g),S.l=!0,S.exports}return g.m=f,g.c=O,g.d=function(h,S,A){g.o(h,S)||Object.defineProperty(h,S,{enumerable:!0,get:A})},g.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},g.t=function(h,S){if(1&S&&(h=g(h)),8&S||4&S&&typeof h=="object"&&h&&h.__esModule)return h;var A=Object.create(null);if(g.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:h}),2&S&&typeof h!="string")for(var x in h)g.d(A,x,function(j){return h[j]}.bind(null,x));return A},g.n=function(h){var S=h&&h.__esModule?function(){return h.default}:function(){return h};return g.d(S,"a",S),S},g.o=function(h,S){return Object.prototype.hasOwnProperty.call(h,S)},g.p="",g(g.s=1)}([function(f,O){f.exports=function(g){return Array.isArray?Array.isArray(g):Object.prototype.toString.call(g)==="[object Array]"}},function(f,O,g){function h(K){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(K)}function S(K,k){for(var L=0;L<k.length;L++){var d=k[L];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(K,d.key,d)}}var A=g(2),x=g(8),j=g(0),R=function(){function K(d,v){var C=v.location,P=C===void 0?0:C,u=v.distance,m=u===void 0?100:u,y=v.threshold,_=y===void 0?.6:y,I=v.maxPatternLength,G=I===void 0?32:I,V=v.caseSensitive,U=V!==void 0&&V,W=v.tokenSeparator,B=W===void 0?/ +/g:W,le=v.findAllMatches,$=le!==void 0&&le,X=v.minMatchCharLength,J=X===void 0?1:X,se=v.id,ue=se===void 0?null:se,ie=v.keys,re=ie===void 0?[]:ie,ee=v.shouldSort,fe=ee===void 0||ee,de=v.getFn,oe=de===void 0?x:de,Y=v.sortFn,ce=Y===void 0?function(q,be){return q.score-be.score}:Y,he=v.tokenize,Ie=he!==void 0&&he,ge=v.matchAllTokens,pe=ge!==void 0&&ge,_e=v.includeMatches,Se=_e!==void 0&&_e,ve=v.includeScore,Ce=ve!==void 0&&ve,ae=v.verbose,me=ae!==void 0&&ae;(function(q,be){if(!(q instanceof be))throw new TypeError("Cannot call a class as a function")})(this,K),this.options={location:P,distance:m,threshold:_,maxPatternLength:G,isCaseSensitive:U,tokenSeparator:B,findAllMatches:$,minMatchCharLength:J,id:ue,keys:re,includeMatches:Se,includeScore:Ce,shouldSort:fe,getFn:oe,sortFn:ce,verbose:me,tokenize:Ie,matchAllTokens:pe},this.setCollection(d)}var k,L;return k=K,(L=[{key:"setCollection",value:function(d){return this.list=d,d}},{key:"search",value:function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{limit:!1};this._log(`---------
Search pattern: "`.concat(d,'"'));var C=this._prepareSearchers(d),P=C.tokenSearchers,u=C.fullSearcher,m=this._search(P,u),y=m.weights,_=m.results;return this._computeScore(y,_),this.options.shouldSort&&this._sort(_),v.limit&&typeof v.limit=="number"&&(_=_.slice(0,v.limit)),this._format(_)}},{key:"_prepareSearchers",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",v=[];if(this.options.tokenize)for(var C=d.split(this.options.tokenSeparator),P=0,u=C.length;P<u;P+=1)v.push(new A(C[P],this.options));return{tokenSearchers:v,fullSearcher:new A(d,this.options)}}},{key:"_search",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=arguments.length>1?arguments[1]:void 0,C=this.list,P={},u=[];if(typeof C[0]=="string"){for(var m=0,y=C.length;m<y;m+=1)this._analyze({key:"",value:C[m],record:m,index:m},{resultMap:P,results:u,tokenSearchers:d,fullSearcher:v});return{weights:null,results:u}}for(var _={},I=0,G=C.length;I<G;I+=1)for(var V=C[I],U=0,W=this.options.keys.length;U<W;U+=1){var B=this.options.keys[U];if(typeof B!="string"){if(_[B.name]={weight:1-B.weight||1},B.weight<=0||B.weight>1)throw new Error("Key weight has to be > 0 and <= 1");B=B.name}else _[B]={weight:1};this._analyze({key:B,value:this.options.getFn(V,B),record:V,index:I},{resultMap:P,results:u,tokenSearchers:d,fullSearcher:v})}return{weights:_,results:u}}},{key:"_analyze",value:function(d,v){var C=d.key,P=d.arrayIndex,u=P===void 0?-1:P,m=d.value,y=d.record,_=d.index,I=v.tokenSearchers,G=I===void 0?[]:I,V=v.fullSearcher,U=V===void 0?[]:V,W=v.resultMap,B=W===void 0?{}:W,le=v.results,$=le===void 0?[]:le;if(m!=null){var X=!1,J=-1,se=0;if(typeof m=="string"){this._log(`
Key: `.concat(C===""?"-":C));var ue=U.search(m);if(this._log('Full text: "'.concat(m,'", score: ').concat(ue.score)),this.options.tokenize){for(var ie=m.split(this.options.tokenSeparator),re=[],ee=0;ee<G.length;ee+=1){var fe=G[ee];this._log(`
Pattern: "`.concat(fe.pattern,'"'));for(var de=!1,oe=0;oe<ie.length;oe+=1){var Y=ie[oe],ce=fe.search(Y),he={};ce.isMatch?(he[Y]=ce.score,X=!0,de=!0,re.push(ce.score)):(he[Y]=1,this.options.matchAllTokens||re.push(1)),this._log('Token: "'.concat(Y,'", score: ').concat(he[Y]))}de&&(se+=1)}J=re[0];for(var Ie=re.length,ge=1;ge<Ie;ge+=1)J+=re[ge];J/=Ie,this._log("Token score average:",J)}var pe=ue.score;J>-1&&(pe=(pe+J)/2),this._log("Score average:",pe);var _e=!this.options.tokenize||!this.options.matchAllTokens||se>=G.length;if(this._log(`
Check Matches: `.concat(_e)),(X||ue.isMatch)&&_e){var Se=B[_];Se?Se.output.push({key:C,arrayIndex:u,value:m,score:pe,matchedIndices:ue.matchedIndices}):(B[_]={item:y,output:[{key:C,arrayIndex:u,value:m,score:pe,matchedIndices:ue.matchedIndices}]},$.push(B[_]))}}else if(j(m))for(var ve=0,Ce=m.length;ve<Ce;ve+=1)this._analyze({key:C,arrayIndex:ve,value:m[ve],record:y,index:_},{resultMap:B,results:$,tokenSearchers:G,fullSearcher:U})}}},{key:"_computeScore",value:function(d,v){this._log(`

Computing score:
`);for(var C=0,P=v.length;C<P;C+=1){for(var u=v[C].output,m=u.length,y=1,_=1,I=0;I<m;I+=1){var G=d?d[u[I].key].weight:1,V=(G===1?u[I].score:u[I].score||.001)*G;G!==1?_=Math.min(_,V):(u[I].nScore=V,y*=V)}v[C].score=_===1?y:_,this._log(v[C])}}},{key:"_sort",value:function(d){this._log(`

Sorting....`),d.sort(this.options.sortFn)}},{key:"_format",value:function(d){var v=[];if(this.options.verbose){var C=[];this._log(`

Output:

`,JSON.stringify(d,function(V,U){if(h(U)==="object"&&U!==null){if(C.indexOf(U)!==-1)return;C.push(U)}return U})),C=null}var P=[];this.options.includeMatches&&P.push(function(V,U){var W=V.output;U.matches=[];for(var B=0,le=W.length;B<le;B+=1){var $=W[B];if($.matchedIndices.length!==0){var X={indices:$.matchedIndices,value:$.value};$.key&&(X.key=$.key),$.hasOwnProperty("arrayIndex")&&$.arrayIndex>-1&&(X.arrayIndex=$.arrayIndex),U.matches.push(X)}}}),this.options.includeScore&&P.push(function(V,U){U.score=V.score});for(var u=0,m=d.length;u<m;u+=1){var y=d[u];if(this.options.id&&(y.item=this.options.getFn(y.item,this.options.id)[0]),P.length){for(var _={item:y.item},I=0,G=P.length;I<G;I+=1)P[I](y,_);v.push(_)}else v.push(y.item)}return v}},{key:"_log",value:function(){var d;this.options.verbose&&(d=console).log.apply(d,arguments)}}])&&S(k.prototype,L),K}();f.exports=R},function(f,O,g){function h(R,K){for(var k=0;k<K.length;k++){var L=K[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}var S=g(3),A=g(4),x=g(7),j=function(){function R(L,d){var v=d.location,C=v===void 0?0:v,P=d.distance,u=P===void 0?100:P,m=d.threshold,y=m===void 0?.6:m,_=d.maxPatternLength,I=_===void 0?32:_,G=d.isCaseSensitive,V=G!==void 0&&G,U=d.tokenSeparator,W=U===void 0?/ +/g:U,B=d.findAllMatches,le=B!==void 0&&B,$=d.minMatchCharLength,X=$===void 0?1:$;(function(J,se){if(!(J instanceof se))throw new TypeError("Cannot call a class as a function")})(this,R),this.options={location:C,distance:u,threshold:y,maxPatternLength:I,isCaseSensitive:V,tokenSeparator:W,findAllMatches:le,minMatchCharLength:X},this.pattern=this.options.isCaseSensitive?L:L.toLowerCase(),this.pattern.length<=I&&(this.patternAlphabet=x(this.pattern))}var K,k;return K=R,(k=[{key:"search",value:function(L){if(this.options.isCaseSensitive||(L=L.toLowerCase()),this.pattern===L)return{isMatch:!0,score:0,matchedIndices:[[0,L.length-1]]};var d=this.options,v=d.maxPatternLength,C=d.tokenSeparator;if(this.pattern.length>v)return S(L,this.pattern,C);var P=this.options,u=P.location,m=P.distance,y=P.threshold,_=P.findAllMatches,I=P.minMatchCharLength;return A(L,this.pattern,this.patternAlphabet,{location:u,distance:m,threshold:y,findAllMatches:_,minMatchCharLength:I})}}])&&h(K.prototype,k),R}();f.exports=j},function(f,O){var g=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;f.exports=function(h,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:/ +/g,x=new RegExp(S.replace(g,"\\$&").replace(A,"|")),j=h.match(x),R=!!j,K=[];if(R)for(var k=0,L=j.length;k<L;k+=1){var d=j[k];K.push([h.indexOf(d),d.length-1])}return{score:R?.5:1,isMatch:R,matchedIndices:K}}},function(f,O,g){var h=g(5),S=g(6);f.exports=function(A,x,j,R){for(var K=R.location,k=K===void 0?0:K,L=R.distance,d=L===void 0?100:L,v=R.threshold,C=v===void 0?.6:v,P=R.findAllMatches,u=P!==void 0&&P,m=R.minMatchCharLength,y=m===void 0?1:m,_=k,I=A.length,G=C,V=A.indexOf(x,_),U=x.length,W=[],B=0;B<I;B+=1)W[B]=0;if(V!==-1){var le=h(x,{errors:0,currentLocation:V,expectedLocation:_,distance:d});if(G=Math.min(le,G),(V=A.lastIndexOf(x,_+U))!==-1){var $=h(x,{errors:0,currentLocation:V,expectedLocation:_,distance:d});G=Math.min($,G)}}V=-1;for(var X=[],J=1,se=U+I,ue=1<<U-1,ie=0;ie<U;ie+=1){for(var re=0,ee=se;re<ee;)h(x,{errors:ie,currentLocation:_+ee,expectedLocation:_,distance:d})<=G?re=ee:se=ee,ee=Math.floor((se-re)/2+re);se=ee;var fe=Math.max(1,_-ee+1),de=u?I:Math.min(_+ee,I)+U,oe=Array(de+2);oe[de+1]=(1<<ie)-1;for(var Y=de;Y>=fe;Y-=1){var ce=Y-1,he=j[A.charAt(ce)];if(he&&(W[ce]=1),oe[Y]=(oe[Y+1]<<1|1)&he,ie!==0&&(oe[Y]|=(X[Y+1]|X[Y])<<1|1|X[Y+1]),oe[Y]&ue&&(J=h(x,{errors:ie,currentLocation:ce,expectedLocation:_,distance:d}))<=G){if(G=J,(V=ce)<=_)break;fe=Math.max(1,2*_-V)}}if(h(x,{errors:ie+1,currentLocation:_,expectedLocation:_,distance:d})>G)break;X=oe}return{isMatch:V>=0,score:J===0?.001:J,matchedIndices:S(W,y)}}},function(f,O){f.exports=function(g,h){var S=h.errors,A=S===void 0?0:S,x=h.currentLocation,j=x===void 0?0:x,R=h.expectedLocation,K=R===void 0?0:R,k=h.distance,L=k===void 0?100:k,d=A/g.length,v=Math.abs(K-j);return L?d+v/L:v?1:d}},function(f,O){f.exports=function(){for(var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,S=[],A=-1,x=-1,j=0,R=g.length;j<R;j+=1){var K=g[j];K&&A===-1?A=j:K||A===-1||((x=j-1)-A+1>=h&&S.push([A,x]),A=-1)}return g[j-1]&&j-A>=h&&S.push([A,j-1]),S}},function(f,O){f.exports=function(g){for(var h={},S=g.length,A=0;A<S;A+=1)h[g.charAt(A)]=0;for(var x=0;x<S;x+=1)h[g.charAt(x)]|=1<<S-x-1;return h}},function(f,O,g){var h=g(0);f.exports=function(S,A){return function x(j,R,K){if(R){var k=R.indexOf("."),L=R,d=null;k!==-1&&(L=R.slice(0,k),d=R.slice(k+1));var v=j[L];if(v!=null)if(d||typeof v!="string"&&typeof v!="number")if(h(v))for(var C=0,P=v.length;C<P;C+=1)x(v[C],d,K);else d&&x(v,d,K);else K.push(v.toString())}else K.push(j);return K}(S,A,[])}}])})},function(Z,Q,w){w.d(Q,"a",function(){return f});function f(O){var g,h=O.Symbol;return typeof h=="function"?h.observable?g=h.observable:(g=h("observable"),h.observable=g):g="@@observable",g}},function(Z,Q,w){Z.exports=w(7)},function(Z,Q){var w;w=function(){return this}();try{w=w||new Function("return this")()}catch{typeof window=="object"&&(w=window)}Z.exports=w},function(Z,Q){Z.exports=function(w){if(!w.webpackPolyfill){var f=Object.create(w);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(Z,Q,w){w.r(Q);var f=w(2),O=w.n(f),g=w(0),h=w.n(g),S=w(1),A=function(){return Math.random().toString(36).substring(7).split("").join(".")},x={INIT:"@@redux/INIT"+A(),REPLACE:"@@redux/REPLACE"+A(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+A()}};function j(o){if(typeof o!="object"||o===null)return!1;for(var t=o;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(o)===t}function R(o,t,i){var e;if(typeof t=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if(typeof t=="function"&&typeof i>"u"&&(i=t,t=void 0),typeof i<"u"){if(typeof i!="function")throw new Error("Expected the enhancer to be a function.");return i(R)(o,t)}if(typeof o!="function")throw new Error("Expected the reducer to be a function.");var n=o,s=t,r=[],a=r,l=!1;function c(){a===r&&(a=r.slice())}function p(){if(l)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function E(D){if(typeof D!="function")throw new Error("Expected the listener to be a function.");if(l)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var N=!0;return c(),a.push(D),function(){if(N){if(l)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");N=!1,c();var H=a.indexOf(D);a.splice(H,1)}}}function b(D){if(!j(D))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof D.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,s=n(s,D)}finally{l=!1}for(var N=r=a,M=0;M<N.length;M++){var H=N[M];H()}return D}function T(D){if(typeof D!="function")throw new Error("Expected the nextReducer to be a function.");n=D,b({type:x.REPLACE})}function F(){var D,N=E;return D={subscribe:function(H){if(typeof H!="object"||H===null)throw new TypeError("Expected the observer to be an object.");function z(){H.next&&H.next(p())}z();var te=N(z);return{unsubscribe:te}}},D[S.a]=function(){return this},D}return b({type:x.INIT}),e={dispatch:b,subscribe:E,getState:p,replaceReducer:T},e[S.a]=F,e}function K(o,t){var i=t&&t.type,e=i&&'action "'+String(i)+'"'||"an action";return"Given "+e+', reducer "'+o+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function k(o){Object.keys(o).forEach(function(t){var i=o[t],e=i(void 0,{type:x.INIT});if(typeof e>"u")throw new Error('Reducer "'+t+`" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);if(typeof i(void 0,{type:x.PROBE_UNKNOWN_ACTION()})>"u")throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+x.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function L(o){for(var t=Object.keys(o),i={},e=0;e<t.length;e++){var n=t[e];typeof o[n]=="function"&&(i[n]=o[n])}var s=Object.keys(i),r;try{k(i)}catch(a){r=a}return function(l,c){if(l===void 0&&(l={}),r)throw r;for(var p=!1,E={},b=0;b<s.length;b++){var T=s[b],F=i[T],D=l[T],N=F(D,c);if(typeof N>"u"){var M=K(T,c);throw new Error(M)}E[T]=N,p=p||N!==D}return p?E:l}}var d=[];function v(o,t){switch(o===void 0&&(o=d),t.type){case"ADD_ITEM":{var i=[].concat(o,[{id:t.id,choiceId:t.choiceId,groupId:t.groupId,value:t.value,label:t.label,active:!0,highlighted:!1,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);return i.map(function(e){var n=e;return n.highlighted=!1,n})}case"REMOVE_ITEM":return o.map(function(e){var n=e;return n.id===t.id&&(n.active=!1),n});case"HIGHLIGHT_ITEM":return o.map(function(e){var n=e;return n.id===t.id&&(n.highlighted=t.highlighted),n});default:return o}}var C=[];function P(o,t){switch(o===void 0&&(o=C),t.type){case"ADD_GROUP":return[].concat(o,[{id:t.id,value:t.value,active:t.active,disabled:t.disabled}]);case"CLEAR_CHOICES":return[];default:return o}}var u=[];function m(o,t){switch(o===void 0&&(o=u),t.type){case"ADD_CHOICE":return[].concat(o,[{id:t.id,elementId:t.elementId,groupId:t.groupId,value:t.value,label:t.label||t.value,disabled:t.disabled||!1,selected:!1,active:!0,score:9999,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);case"ADD_ITEM":return t.activateOptions?o.map(function(i){var e=i;return e.active=t.active,e}):t.choiceId>-1?o.map(function(i){var e=i;return e.id===parseInt(t.choiceId,10)&&(e.selected=!0),e}):o;case"REMOVE_ITEM":return t.choiceId>-1?o.map(function(i){var e=i;return e.id===parseInt(t.choiceId,10)&&(e.selected=!1),e}):o;case"FILTER_CHOICES":return o.map(function(i){var e=i;return e.active=t.results.some(function(n){var s=n.item,r=n.score;return s.id===e.id?(e.score=r,!0):!1}),e});case"ACTIVATE_CHOICES":return o.map(function(i){var e=i;return e.active=t.active,e});case"CLEAR_CHOICES":return u;default:return o}}var y={loading:!1},_=function(t,i){switch(t===void 0&&(t=y),i.type){case"SET_IS_LOADING":return{loading:i.isLoading};default:return t}},I=_,G=function(t,i){return Math.floor(Math.random()*(i-t)+t)},V=function(t){return Array.from({length:t},function(){return G(0,36).toString(36)}).join("")},U=function(t,i){var e=t.id||t.name&&t.name+"-"+V(2)||V(4);return e=e.replace(/(:|\.|\[|\]|,)/g,""),e=i+"-"+e,e},W=function(t){return Object.prototype.toString.call(t).slice(8,-1)},B=function(t,i){return i!=null&&W(i)===t},le=function(t,i){return i===void 0&&(i=document.createElement("div")),t.nextSibling?t.parentNode.insertBefore(i,t.nextSibling):t.parentNode.appendChild(i),i.appendChild(t)},$=function(t,i,e){if(e===void 0&&(e=1),!(!(t instanceof Element)||typeof i!="string")){for(var n=(e>0?"next":"previous")+"ElementSibling",s=t[n];s;){if(s.matches(i))return s;s=s[n]}return s}},X=function(t,i,e){if(e===void 0&&(e=1),!t)return!1;var n;return e>0?n=i.scrollTop+i.offsetHeight>=t.offsetTop+t.offsetHeight:n=t.offsetTop>=i.scrollTop,n},J=function(t){return typeof t!="string"?t:t.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},se=function(){var o=document.createElement("div");return function(t){var i=t.trim();o.innerHTML=i;for(var e=o.children[0];o.firstChild;)o.removeChild(o.firstChild);return e}}(),ue=function(t,i){var e=t.value,n=t.label,s=n===void 0?e:n,r=i.value,a=i.label,l=a===void 0?r:a;return s.localeCompare(l,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},ie=function(t,i){return t.score-i.score},re=function(t,i,e){e===void 0&&(e=null);var n=new CustomEvent(i,{detail:e,bubbles:!0,cancelable:!0});return t.dispatchEvent(n)},ee=function(t,i,e){return e===void 0&&(e="value"),t.some(function(n){return typeof i=="string"?n[e]===i.trim():n[e]===i})},fe=function(t){return JSON.parse(JSON.stringify(t))},de=function(t,i){var e=Object.keys(t).sort(),n=Object.keys(i).sort();return e.filter(function(s){return n.indexOf(s)<0})},oe=L({items:v,groups:P,choices:m,general:I}),Y=function(t,i){var e=t;if(i.type==="CLEAR_ALL")e=void 0;else if(i.type==="RESET_TO")return fe(i.state);return oe(e,i)},ce=Y;function he(o,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function Ie(o,t,i){return t&&he(o.prototype,t),i&&he(o,i),o}var ge=function(){function o(){this._store=R(ce,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}var t=o.prototype;return t.subscribe=function(e){this._store.subscribe(e)},t.dispatch=function(e){this._store.dispatch(e)},t.isLoading=function(){return this.state.general.loading},t.getChoiceById=function(e){return this.activeChoices.find(function(n){return n.id===parseInt(e,10)})},t.getGroupById=function(e){return this.groups.find(function(n){return n.id===e})},Ie(o,[{key:"state",get:function(){return this._store.getState()}},{key:"items",get:function(){return this.state.items}},{key:"activeItems",get:function(){return this.items.filter(function(e){return e.active===!0})}},{key:"highlightedActiveItems",get:function(){return this.items.filter(function(e){return e.active&&e.highlighted})}},{key:"choices",get:function(){return this.state.choices}},{key:"activeChoices",get:function(){return this.choices.filter(function(e){return e.active===!0})}},{key:"selectableChoices",get:function(){return this.choices.filter(function(e){return e.disabled!==!0})}},{key:"searchableChoices",get:function(){return this.selectableChoices.filter(function(e){return e.placeholder!==!0})}},{key:"placeholderChoice",get:function(){return[].concat(this.choices).reverse().find(function(e){return e.placeholder===!0})}},{key:"groups",get:function(){return this.state.groups}},{key:"activeGroups",get:function(){var e=this.groups,n=this.choices;return e.filter(function(s){var r=s.active===!0&&s.disabled===!1,a=n.some(function(l){return l.active===!0&&l.disabled===!1});return r&&a},[])}}]),o}();function pe(o,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function _e(o,t,i){return t&&pe(o.prototype,t),i&&pe(o,i),o}var Se=function(){function o(i){var e=i.element,n=i.type,s=i.classNames;this.element=e,this.classNames=s,this.type=n,this.isActive=!1}var t=o.prototype;return t.getChild=function(e){return this.element.querySelector(e)},t.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},t.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},_e(o,[{key:"distanceFromTopWindow",get:function(){return this.element.getBoundingClientRect().bottom}}]),o}(),ve={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},Ce={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:ue,shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(t){return'Press Enter to add <b>"'+J(t)+'"</b>'},maxItemText:function(t){return"Only "+t+" values can be added"},valueComparer:function(t,i){return t===i},fuseOptions:{includeScore:!0},callbackOnInit:null,callbackOnCreateTemplates:null,classNames:ve},ae={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice"},me={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL"},q={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},be="text",we="select-one",Ae="select-multiple",Ge=4,Le=function(){function o(i){var e=i.element,n=i.type,s=i.classNames,r=i.position;this.element=e,this.classNames=s,this.type=n,this.position=r,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}var t=o.prototype;return t.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},t.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},t.shouldFlip=function(e){if(typeof e!="number")return!1;var n=!1;return this.position==="auto"?n=!window.matchMedia("(min-height: "+(e+1)+"px)").matches:this.position==="top"&&(n=!0),n},t.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},t.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},t.open=function(e){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},t.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},t.focus=function(){this.isFocussed||this.element.focus()},t.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},t.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},t.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===we&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},t.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===we&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},t.wrap=function(e){le(e,this.element)},t.unwrap=function(e){this.element.parentNode.insertBefore(e,this.element),this.element.parentNode.removeChild(this.element)},t.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},t.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},t._onFocus=function(){this.isFocussed=!0},t._onBlur=function(){this.isFocussed=!1},o}();function De(o,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function Ue(o,t,i){return t&&De(o.prototype,t),i&&De(o,i),o}var Ye=function(){function o(i){var e=i.element,n=i.type,s=i.classNames,r=i.preventPaste;this.element=e,this.type=n,this.classNames=s,this.preventPaste=r,this.isFocussed=this.element===document.activeElement,this.isDisabled=e.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}var t=o.prototype;return t.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},t.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput,{passive:!0}),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus,{passive:!0}),this.element.removeEventListener("blur",this._onBlur,{passive:!0})},t.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},t.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},t.focus=function(){this.isFocussed||this.element.focus()},t.blur=function(){this.isFocussed&&this.element.blur()},t.clear=function(e){return e===void 0&&(e=!0),this.element.value&&(this.element.value=""),e&&this.setWidth(),this},t.setWidth=function(){var e=this.element,n=e.style,s=e.value,r=e.placeholder;n.minWidth=r.length+1+"ch",n.width=s.length+1+"ch"},t.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},t.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},t._onInput=function(){this.type!==we&&this.setWidth()},t._onPaste=function(e){this.preventPaste&&e.preventDefault()},t._onFocus=function(){this.isFocussed=!0},t._onBlur=function(){this.isFocussed=!1},Ue(o,[{key:"placeholder",set:function(e){this.element.placeholder=e}},{key:"value",get:function(){return J(this.element.value)},set:function(e){this.element.value=e}}]),o}(),xe=function(){function o(i){var e=i.element;this.element=e,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}var t=o.prototype;return t.clear=function(){this.element.innerHTML=""},t.append=function(e){this.element.appendChild(e)},t.getChild=function(e){return this.element.querySelector(e)},t.hasChildren=function(){return this.element.hasChildNodes()},t.scrollToTop=function(){this.element.scrollTop=0},t.scrollToChildElement=function(e,n){var s=this;if(e){var r=this.element.offsetHeight,a=this.element.scrollTop+r,l=e.offsetHeight,c=e.offsetTop+l,p=n>0?this.element.scrollTop+c-a:e.offsetTop;requestAnimationFrame(function(){s._animateScroll(p,n)})}},t._scrollDown=function(e,n,s){var r=(s-e)/n,a=r>1?r:1;this.element.scrollTop=e+a},t._scrollUp=function(e,n,s){var r=(e-s)/n,a=r>1?r:1;this.element.scrollTop=e-a},t._animateScroll=function(e,n){var s=this,r=Ge,a=this.element.scrollTop,l=!1;n>0?(this._scrollDown(a,r,e),a<e&&(l=!0)):(this._scrollUp(a,r,e),a>e&&(l=!0)),l&&requestAnimationFrame(function(){s._animateScroll(e,n)})},o}();function Pe(o,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function $e(o,t,i){return t&&Pe(o.prototype,t),i&&Pe(o,i),o}var Ne=function(){function o(i){var e=i.element,n=i.classNames;if(this.element=e,this.classNames=n,!(e instanceof HTMLInputElement)&&!(e instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}var t=o.prototype;return t.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var e=this.element.getAttribute("style");e&&this.element.setAttribute("data-choice-orig-style",e),this.element.setAttribute("data-choice","active")},t.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var e=this.element.getAttribute("data-choice-orig-style");e?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",e)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},t.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},t.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},t.triggerEvent=function(e,n){re(this.element,e,n)},$e(o,[{key:"isActive",get:function(){return this.element.dataset.choice==="active"}},{key:"dir",get:function(){return this.element.dir}},{key:"value",get:function(){return this.element.value},set:function(e){this.element.value=e}}]),o}();function Me(o,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function We(o,t,i){return t&&Me(o.prototype,t),i&&Me(o,i),o}function qe(o,t){o.prototype=Object.create(t.prototype),o.prototype.constructor=o,o.__proto__=t}var Xe=function(o){qe(t,o);function t(i){var e,n=i.element,s=i.classNames,r=i.delimiter;return e=o.call(this,{element:n,classNames:s})||this,e.delimiter=r,e}return We(t,[{key:"value",get:function(){return this.element.value},set:function(e){var n=e.map(function(r){var a=r.value;return a}),s=n.join(this.delimiter);this.element.setAttribute("value",s),this.element.value=s}}]),t}(Ne);function ke(o,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function Je(o,t,i){return t&&ke(o.prototype,t),i&&ke(o,i),o}function ze(o,t){o.prototype=Object.create(t.prototype),o.prototype.constructor=o,o.__proto__=t}var Ze=function(o){ze(t,o);function t(e){var n,s=e.element,r=e.classNames,a=e.template;return n=o.call(this,{element:s,classNames:r})||this,n.template=a,n}var i=t.prototype;return i.appendDocFragment=function(n){this.element.innerHTML="",this.element.appendChild(n)},Je(t,[{key:"placeholderOption",get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")}},{key:"optionGroups",get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))}},{key:"options",get:function(){return Array.from(this.element.options)},set:function(n){var s=this,r=document.createDocumentFragment(),a=function(c){var p=s.template(c);r.appendChild(p)};n.forEach(function(l){return a(l)}),this.appendDocFragment(r)}}]),t}(Ne),Fe={containerOuter:function(t,i,e,n,s,r){var a=t.containerOuter,l=Object.assign(document.createElement("div"),{className:a});return l.dataset.type=r,i&&(l.dir=i),n&&(l.tabIndex=0),e&&(l.setAttribute("role",s?"combobox":"listbox"),s&&l.setAttribute("aria-autocomplete","list")),l.setAttribute("aria-haspopup","true"),l.setAttribute("aria-expanded","false"),l},containerInner:function(t){var i=t.containerInner;return Object.assign(document.createElement("div"),{className:i})},itemList:function(t,i){var e=t.list,n=t.listSingle,s=t.listItems;return Object.assign(document.createElement("div"),{className:e+" "+(i?n:s)})},placeholder:function(t,i){var e=t.placeholder;return Object.assign(document.createElement("div"),{className:e,innerHTML:i})},item:function(t,i,e){var n=t.item,s=t.button,r=t.highlightedState,a=t.itemSelectable,l=t.placeholder,c=i.id,p=i.value,E=i.label,b=i.customProperties,T=i.active,F=i.disabled,D=i.highlighted,N=i.placeholder,M=Object.assign(document.createElement("div"),{className:n,innerHTML:E});if(Object.assign(M.dataset,{item:"",id:c,value:p,customProperties:b}),T&&M.setAttribute("aria-selected","true"),F&&M.setAttribute("aria-disabled","true"),N&&M.classList.add(l),M.classList.add(D?r:a),e){F&&M.classList.remove(a),M.dataset.deletable="";var H="Remove item",z=Object.assign(document.createElement("button"),{type:"button",className:s,innerHTML:H});z.setAttribute("aria-label",H+": '"+p+"'"),z.dataset.button="",M.appendChild(z)}return M},choiceList:function(t,i){var e=t.list,n=Object.assign(document.createElement("div"),{className:e});return i||n.setAttribute("aria-multiselectable","true"),n.setAttribute("role","listbox"),n},choiceGroup:function(t,i){var e=t.group,n=t.groupHeading,s=t.itemDisabled,r=i.id,a=i.value,l=i.disabled,c=Object.assign(document.createElement("div"),{className:e+" "+(l?s:"")});return c.setAttribute("role","group"),Object.assign(c.dataset,{group:"",id:r,value:a}),l&&c.setAttribute("aria-disabled","true"),c.appendChild(Object.assign(document.createElement("div"),{className:n,innerHTML:a})),c},choice:function(t,i,e){var n=t.item,s=t.itemChoice,r=t.itemSelectable,a=t.selectedState,l=t.itemDisabled,c=t.placeholder,p=i.id,E=i.value,b=i.label,T=i.groupId,F=i.elementId,D=i.disabled,N=i.selected,M=i.placeholder,H=Object.assign(document.createElement("div"),{id:F,innerHTML:b,className:n+" "+s});return N&&H.classList.add(a),M&&H.classList.add(c),H.setAttribute("role",T>0?"treeitem":"option"),Object.assign(H.dataset,{choice:"",id:p,value:E,selectText:e}),D?(H.classList.add(l),H.dataset.choiceDisabled="",H.setAttribute("aria-disabled","true")):(H.classList.add(r),H.dataset.choiceSelectable=""),H},input:function(t,i){var e=t.input,n=t.inputCloned,s=Object.assign(document.createElement("input"),{type:"text",className:e+" "+n,autocomplete:"off",autocapitalize:"off",spellcheck:!1});return s.setAttribute("role","textbox"),s.setAttribute("aria-autocomplete","list"),s.setAttribute("aria-label",i),s},dropdown:function(t){var i=t.list,e=t.listDropdown,n=document.createElement("div");return n.classList.add(i,e),n.setAttribute("aria-expanded","false"),n},notice:function(t,i,e){var n=t.item,s=t.itemChoice,r=t.noResults,a=t.noChoices;e===void 0&&(e="");var l=[n,s];return e==="no-choices"?l.push(a):e==="no-results"&&l.push(r),Object.assign(document.createElement("div"),{innerHTML:i,className:l.join(" ")})},option:function(t){var i=t.label,e=t.value,n=t.customProperties,s=t.active,r=t.disabled,a=new Option(i,e,!1,s);return n&&(a.dataset.customProperties=n),a.disabled=r,a}},Qe=function(t){var i=t.value,e=t.label,n=t.id,s=t.groupId,r=t.disabled,a=t.elementId,l=t.customProperties,c=t.placeholder,p=t.keyCode;return{type:me.ADD_CHOICE,value:i,label:e,id:n,groupId:s,disabled:r,elementId:a,customProperties:l,placeholder:c,keyCode:p}},et=function(t){return{type:me.FILTER_CHOICES,results:t}},Te=function(t){return t===void 0&&(t=!0),{type:me.ACTIVATE_CHOICES,active:t}},tt=function(){return{type:me.CLEAR_CHOICES}},it=function(t){var i=t.value,e=t.label,n=t.id,s=t.choiceId,r=t.groupId,a=t.customProperties,l=t.placeholder,c=t.keyCode;return{type:me.ADD_ITEM,value:i,label:e,id:n,choiceId:s,groupId:r,customProperties:a,placeholder:l,keyCode:c}},nt=function(t,i){return{type:me.REMOVE_ITEM,id:t,choiceId:i}},Ke=function(t,i){return{type:me.HIGHLIGHT_ITEM,id:t,highlighted:i}},je=function(t){var i=t.value,e=t.id,n=t.active,s=t.disabled;return{type:me.ADD_GROUP,value:i,id:e,active:n,disabled:s}},st=function(){return{type:"CLEAR_ALL"}},rt=function(t){return{type:"RESET_TO",state:t}},Re=function(t){return{type:"SET_IS_LOADING",isLoading:t}};function He(o,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function ot(o,t,i){return t&&He(o.prototype,t),i&&He(o,i),o}var at="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,lt={},ct=function(){ot(o,null,[{key:"defaults",get:function(){return Object.preventExtensions({get options(){return lt},get templates(){return Fe}})}}]);function o(i,e){var n=this;i===void 0&&(i="[data-choice]"),e===void 0&&(e={}),this.config=h.a.all([Ce,o.defaults.options,e],{arrayMerge:function(T,F){return[].concat(F)}}),e.shadowRoot&&(this.config.shadowRoot=e.shadowRoot);var s=de(this.config,Ce);s.length&&console.warn("Unknown config option(s) passed",s.join(", "));var r=typeof i=="string"?document.querySelector(i):i;if(!(r instanceof HTMLInputElement||r instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=r.type===be,this._isSelectOneElement=r.type===we,this._isSelectMultipleElement=r.type===Ae,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes(this.config.renderSelectedChoices)||(this.config.renderSelectedChoices="auto"),e.addItemFilter&&typeof e.addItemFilter!="function"){var a=e.addItemFilter instanceof RegExp?e.addItemFilter:new RegExp(e.addItemFilter);this.config.addItemFilter=a.test.bind(a)}if(this._isTextElement?this.passedElement=new Xe({element:r,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new Ze({element:r,classNames:this.config.classNames,template:function(T){return n._templates.option(T)}}),this.initialised=!1,this._store=new ge,this._initialState={},this._currentState={},this._prevState={},this._currentValue="",this._canSearch=this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=U(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var l=window.getComputedStyle(this.passedElement.element),c=l.direction,p=window.getComputedStyle(document.documentElement),E=p.direction;c!==E&&(this._direction=c)}if(this._idNames={itemChoice:"item-choice"},this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options,this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&(this._presetItems=this._presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.passedElement.options&&this.passedElement.options.forEach(function(b){n._presetChoices.push({value:b.value,label:b.innerHTML,selected:b.selected,disabled:b.disabled||b.parentNode.disabled,placeholder:b.value===""||b.hasAttribute("placeholder"),customProperties:b.getAttribute("data-custom-properties")})}),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onAKey=this._onAKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){this.config.silent||console.warn("Trying to initialise Choices on element already initialised"),this.initialised=!0;return}this.init()}var t=o.prototype;return t.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._initialState=fe(this._store.state),this._store.subscribe(this._render),this._render(),this._addEventListeners();var e=!this.config.addItems||this.passedElement.element.hasAttribute("disabled");e&&this.disable(),this.initialised=!0;var n=this.config.callbackOnInit;n&&typeof n=="function"&&n.call(this)}},t.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=null,this.initialised=!1)},t.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},t.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},t.highlightItem=function(e,n){if(n===void 0&&(n=!0),!e)return this;var s=e.id,r=e.groupId,a=r===void 0?-1:r,l=e.value,c=l===void 0?"":l,p=e.label,E=p===void 0?"":p,b=a>=0?this._store.getGroupById(a):null;return this._store.dispatch(Ke(s,!0)),n&&this.passedElement.triggerEvent(ae.highlightItem,{id:s,value:c,label:E,groupValue:b&&b.value?b.value:null}),this},t.unhighlightItem=function(e){if(!e)return this;var n=e.id,s=e.groupId,r=s===void 0?-1:s,a=e.value,l=a===void 0?"":a,c=e.label,p=c===void 0?"":c,E=r>=0?this._store.getGroupById(r):null;return this._store.dispatch(Ke(n,!1)),this.passedElement.triggerEvent(ae.highlightItem,{id:n,value:l,label:p,groupValue:E&&E.value?E.value:null}),this},t.highlightAll=function(){var e=this;return this._store.items.forEach(function(n){return e.highlightItem(n)}),this},t.unhighlightAll=function(){var e=this;return this._store.items.forEach(function(n){return e.unhighlightItem(n)}),this},t.removeActiveItemsByValue=function(e){var n=this;return this._store.activeItems.filter(function(s){return s.value===e}).forEach(function(s){return n._removeItem(s)}),this},t.removeActiveItems=function(e){var n=this;return this._store.activeItems.filter(function(s){var r=s.id;return r!==e}).forEach(function(s){return n._removeItem(s)}),this},t.removeHighlightedItems=function(e){var n=this;return e===void 0&&(e=!1),this._store.highlightedActiveItems.forEach(function(s){n._removeItem(s),e&&n._triggerChange(s.value)}),this},t.showDropdown=function(e){var n=this;return this.dropdown.isActive?this:(requestAnimationFrame(function(){n.dropdown.show(),n.containerOuter.open(n.dropdown.distanceFromTopWindow),!e&&n._canSearch&&n.input.focus(),n.passedElement.triggerEvent(ae.showDropdown,{})}),this)},t.hideDropdown=function(e){var n=this;return this.dropdown.isActive?(requestAnimationFrame(function(){n.dropdown.hide(),n.containerOuter.close(),!e&&n._canSearch&&(n.input.removeActiveDescendant(),n.input.blur()),n.passedElement.triggerEvent(ae.hideDropdown,{})}),this):this},t.getValue=function(e){e===void 0&&(e=!1);var n=this._store.activeItems.reduce(function(s,r){var a=e?r.value:r;return s.push(a),s},[]);return this._isSelectOneElement?n[0]:n},t.setValue=function(e){var n=this;return this.initialised?(e.forEach(function(s){return n._setChoiceOrItem(s)}),this):this},t.setChoiceByValue=function(e){var n=this;if(!this.initialised||this._isTextElement)return this;var s=Array.isArray(e)?e:[e];return s.forEach(function(r){return n._findAndSelectChoiceByValue(r)}),this},t.setChoices=function(e,n,s,r){var a=this;if(e===void 0&&(e=[]),n===void 0&&(n="value"),s===void 0&&(s="label"),r===void 0&&(r=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof n!="string"||!n)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(r&&this.clearChoices(),typeof e=="function"){var l=e(this);if(typeof Promise=="function"&&l instanceof Promise)return new Promise(function(c){return requestAnimationFrame(c)}).then(function(){return a._handleLoadingState(!0)}).then(function(){return l}).then(function(c){return a.setChoices(c,n,s,r)}).catch(function(c){a.config.silent||console.error(c)}).then(function(){return a._handleLoadingState(!1)}).then(function(){return a});if(!Array.isArray(l))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: "+typeof l);return this.setChoices(l,n,s,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),e.forEach(function(c){c.choices?a._addGroup({id:parseInt(c.id,10)||null,group:c,valueKey:n,labelKey:s}):a._addChoice({value:c[n],label:c[s],isSelected:c.selected,isDisabled:c.disabled,customProperties:c.customProperties,placeholder:c.placeholder})}),this._stopLoading(),this},t.clearChoices=function(){return this._store.dispatch(tt()),this},t.clearStore=function(){return this._store.dispatch(st()),this},t.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch(Te(!0))),this},t._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var e=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,n=this._isSelectElement,s=this._currentState.items!==this._prevState.items;e&&(n&&this._renderChoices(),s&&this._renderItems(),this._prevState=this._currentState)}},t._renderChoices=function(){var e=this,n=this._store,s=n.activeGroups,r=n.activeChoices,a=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(function(){return e.choiceList.scrollToTop()}),s.length>=1&&!this._isSearching){var l=r.filter(function(T){return T.placeholder===!0&&T.groupId===-1});l.length>=1&&(a=this._createChoicesFragment(l,a)),a=this._createGroupsFragment(s,r,a)}else r.length>=1&&(a=this._createChoicesFragment(r,a));if(a.childNodes&&a.childNodes.length>0){var c=this._store.activeItems,p=this._canAddItem(c,this.input.value);p.response?(this.choiceList.append(a),this._highlightChoice()):this.choiceList.append(this._getTemplate("notice",p.notice))}else{var E,b;this._isSearching?(b=typeof this.config.noResultsText=="function"?this.config.noResultsText():this.config.noResultsText,E=this._getTemplate("notice",b,"no-results")):(b=typeof this.config.noChoicesText=="function"?this.config.noChoicesText():this.config.noChoicesText,E=this._getTemplate("notice",b,"no-choices")),this.choiceList.append(E)}},t._renderItems=function(){var e=this._store.activeItems||[];this.itemList.clear();var n=this._createItemsFragment(e);n.childNodes&&this.itemList.append(n)},t._createGroupsFragment=function(e,n,s){var r=this;s===void 0&&(s=document.createDocumentFragment());var a=function(c){return n.filter(function(p){return r._isSelectOneElement?p.groupId===c.id:p.groupId===c.id&&(r.config.renderSelectedChoices==="always"||!p.selected)})};return this.config.shouldSort&&e.sort(this.config.sorter),e.forEach(function(l){var c=a(l);if(c.length>=1){var p=r._getTemplate("choiceGroup",l);s.appendChild(p),r._createChoicesFragment(c,s,!0)}}),s},t._createChoicesFragment=function(e,n,s){var r=this;n===void 0&&(n=document.createDocumentFragment()),s===void 0&&(s=!1);var a=this.config,l=a.renderSelectedChoices,c=a.searchResultLimit,p=a.renderChoiceLimit,E=this._isSearching?ie:this.config.sorter,b=function(ne){var ye=l==="auto"?r._isSelectOneElement||!ne.selected:!0;if(ye){var Ee=r._getTemplate("choice",ne,r.config.itemSelectText);n.appendChild(Ee)}},T=e;l==="auto"&&!this._isSelectOneElement&&(T=e.filter(function(te){return!te.selected}));var F=T.reduce(function(te,ne){return ne.placeholder?te.placeholderChoices.push(ne):te.normalChoices.push(ne),te},{placeholderChoices:[],normalChoices:[]}),D=F.placeholderChoices,N=F.normalChoices;(this.config.shouldSort||this._isSearching)&&N.sort(E);var M=T.length,H=this._isSelectOneElement?[].concat(D,N):N;this._isSearching?M=c:p&&p>0&&!s&&(M=p);for(var z=0;z<M;z+=1)H[z]&&b(H[z]);return n},t._createItemsFragment=function(e,n){var s=this;n===void 0&&(n=document.createDocumentFragment());var r=this.config,a=r.shouldSortItems,l=r.sorter,c=r.removeItemButton;a&&!this._isSelectOneElement&&e.sort(l),this._isTextElement?this.passedElement.value=e:this.passedElement.options=e;var p=function(b){var T=s._getTemplate("item",b,c);n.appendChild(T)};return e.forEach(p),n},t._triggerChange=function(e){e!=null&&this.passedElement.triggerEvent(ae.change,{value:e})},t._selectPlaceholderChoice=function(){var e=this._store.placeholderChoice;e&&(this._addItem({value:e.value,label:e.label,choiceId:e.id,groupId:e.groupId,placeholder:e.placeholder}),this._triggerChange(e.value))},t._handleButtonAction=function(e,n){if(!(!e||!n||!this.config.removeItems||!this.config.removeItemButton)){var s=n.parentNode.getAttribute("data-id"),r=e.find(function(a){return a.id===parseInt(s,10)});this._removeItem(r),this._triggerChange(r.value),this._isSelectOneElement&&this._selectPlaceholderChoice()}},t._handleItemAction=function(e,n,s){var r=this;if(s===void 0&&(s=!1),!(!e||!n||!this.config.removeItems||this._isSelectOneElement)){var a=n.getAttribute("data-id");e.forEach(function(l){l.id===parseInt(a,10)&&!l.highlighted?r.highlightItem(l):!s&&l.highlighted&&r.unhighlightItem(l)}),this.input.focus()}},t._handleChoiceAction=function(e,n){if(!(!e||!n)){var s=n.dataset.id,r=this._store.getChoiceById(s);if(r){var a=e[0]&&e[0].keyCode?e[0].keyCode:null,l=this.dropdown.isActive;if(r.keyCode=a,this.passedElement.triggerEvent(ae.choice,{choice:r}),!r.selected&&!r.disabled){var c=this._canAddItem(e,r.value);c.response&&(this._addItem({value:r.value,label:r.label,choiceId:r.id,groupId:r.groupId,customProperties:r.customProperties,placeholder:r.placeholder,keyCode:r.keyCode}),this._triggerChange(r.value))}this.clearInput(),l&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},t._handleBackspace=function(e){if(!(!this.config.removeItems||!e)){var n=e[e.length-1],s=e.some(function(r){return r.highlighted});this.config.editItems&&!s&&n?(this.input.value=n.value,this.input.setWidth(),this._removeItem(n),this._triggerChange(n.value)):(s||this.highlightItem(n,!1),this.removeHighlightedItems(!0))}},t._startLoading=function(){this._store.dispatch(Re(!0))},t._stopLoading=function(){this._store.dispatch(Re(!1))},t._handleLoadingState=function(e){e===void 0&&(e=!0);var n=this.itemList.getChild("."+this.config.classNames.placeholder);e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?n?n.innerHTML=this.config.loadingText:(n=this._getTemplate("placeholder",this.config.loadingText),this.itemList.append(n)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?n.innerHTML=this._placeholderValue||"":this.input.placeholder=this._placeholderValue||"")},t._handleSearch=function(e){if(!(!e||!this.input.isFocussed)){var n=this._store.choices,s=this.config,r=s.searchFloor,a=s.searchChoices,l=n.some(function(p){return!p.active});if(e&&e.length>=r){var c=a?this._searchChoices(e):0;this.passedElement.triggerEvent(ae.search,{value:e,resultCount:c})}else l&&(this._isSearching=!1,this._store.dispatch(Te(!0)))}},t._canAddItem=function(e,n){var s=!0,r=typeof this.config.addItemText=="function"?this.config.addItemText(n):this.config.addItemText;if(!this._isSelectOneElement){var a=ee(e,n);this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(s=!1,r=typeof this.config.maxItemText=="function"?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&a&&s&&(s=!1,r=typeof this.config.uniqueItemText=="function"?this.config.uniqueItemText(n):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&s&&typeof this.config.addItemFilter=="function"&&!this.config.addItemFilter(n)&&(s=!1,r=typeof this.config.customAddItemText=="function"?this.config.customAddItemText(n):this.config.customAddItemText)}return{response:s,notice:r}},t._searchChoices=function(e){var n=typeof e=="string"?e.trim():e,s=typeof this._currentValue=="string"?this._currentValue.trim():this._currentValue;if(n.length<1&&n===s+" ")return 0;var r=this._store.searchableChoices,a=n,l=[].concat(this.config.searchFields),c=Object.assign(this.config.fuseOptions,{keys:l}),p=new O.a(r,c),E=p.search(a);return this._currentValue=n,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch(et(E)),E.length},t._addEventListeners=function(){var e=this.config.shadowRoot||document.documentElement;e.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},t._removeEventListeners=function(){var e=this.config.shadowRoot||document.documentElement;e.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},t._onKeyDown=function(e){var n,s=e.target,r=e.keyCode,a=e.ctrlKey,l=e.metaKey,c=this._store.activeItems,p=this.input.isFocussed,E=this.dropdown.isActive,b=this.itemList.hasChildren(),T=String.fromCharCode(r),F=q.BACK_KEY,D=q.DELETE_KEY,N=q.ENTER_KEY,M=q.A_KEY,H=q.ESC_KEY,z=q.UP_KEY,te=q.DOWN_KEY,ne=q.PAGE_UP_KEY,ye=q.PAGE_DOWN_KEY,Ee=a||l;!this._isTextElement&&/[a-zA-Z0-9-_ ]/.test(T)&&this.showDropdown();var Oe=(n={},n[M]=this._onAKey,n[N]=this._onEnterKey,n[H]=this._onEscapeKey,n[z]=this._onDirectionKey,n[ne]=this._onDirectionKey,n[te]=this._onDirectionKey,n[ye]=this._onDirectionKey,n[D]=this._onDeleteKey,n[F]=this._onDeleteKey,n);Oe[r]&&Oe[r]({event:e,target:s,keyCode:r,metaKey:l,activeItems:c,hasFocusedInput:p,hasActiveDropdown:E,hasItems:b,hasCtrlDownKeyPressed:Ee})},t._onKeyUp=function(e){var n=e.target,s=e.keyCode,r=this.input.value,a=this._store.activeItems,l=this._canAddItem(a,r),c=q.BACK_KEY,p=q.DELETE_KEY;if(this._isTextElement){var E=l.notice&&r;if(E){var b=this._getTemplate("notice",l.notice);this.dropdown.element.innerHTML=b.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{var T=(s===c||s===p)&&!n.value,F=!this._isTextElement&&this._isSearching,D=this._canSearch&&l.response;T&&F?(this._isSearching=!1,this._store.dispatch(Te(!0))):D&&this._handleSearch(this.input.value)}this._canSearch=this.config.searchEnabled},t._onAKey=function(e){var n=e.hasItems,s=e.hasCtrlDownKeyPressed;if(s&&n){this._canSearch=!1;var r=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;r&&this.highlightAll()}},t._onEnterKey=function(e){var n=e.event,s=e.target,r=e.activeItems,a=e.hasActiveDropdown,l=q.ENTER_KEY,c=s.hasAttribute("data-button");if(this._isTextElement&&s.value){var p=this.input.value,E=this._canAddItem(r,p);E.response&&(this.hideDropdown(!0),this._addItem({value:p}),this._triggerChange(p),this.clearInput())}if(c&&(this._handleButtonAction(r,s),n.preventDefault()),a){var b=this.dropdown.getChild("."+this.config.classNames.highlightedState);b&&(r[0]&&(r[0].keyCode=l),this._handleChoiceAction(r,b)),n.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),n.preventDefault())},t._onEscapeKey=function(e){var n=e.hasActiveDropdown;n&&(this.hideDropdown(!0),this.containerOuter.focus())},t._onDirectionKey=function(e){var n=e.event,s=e.hasActiveDropdown,r=e.keyCode,a=e.metaKey,l=q.DOWN_KEY,c=q.PAGE_UP_KEY,p=q.PAGE_DOWN_KEY;if(s||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var E=r===l||r===p?1:-1,b=a||r===p||r===c,T="[data-choice-selectable]",F;if(b)E>0?F=this.dropdown.element.querySelector(T+":last-of-type"):F=this.dropdown.element.querySelector(T);else{var D=this.dropdown.element.querySelector("."+this.config.classNames.highlightedState);D?F=$(D,T,E):F=this.dropdown.element.querySelector(T)}F&&(X(F,this.choiceList.element,E)||this.choiceList.scrollToChildElement(F,E),this._highlightChoice(F)),n.preventDefault()}},t._onDeleteKey=function(e){var n=e.event,s=e.target,r=e.hasFocusedInput,a=e.activeItems;r&&!s.value&&!this._isSelectOneElement&&(this._handleBackspace(a),n.preventDefault())},t._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},t._onTouchEnd=function(e){var n=e||e.touches[0],s=n.target,r=this._wasTap&&this.containerOuter.element.contains(s);if(r){var a=s===this.containerOuter.element||s===this.containerInner.element;a&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()}this._wasTap=!0},t._onMouseDown=function(e){var n=e.target;if(n instanceof HTMLElement){if(at&&this.choiceList.element.contains(n)){var s=this.choiceList.element.firstElementChild,r=this._direction==="ltr"?e.offsetX>=s.offsetWidth:e.offsetX<s.offsetLeft;this._isScrollingOnIe=r}if(n!==this.input.element){var a=n.closest("[data-button],[data-item],[data-choice]");if(a instanceof HTMLElement){var l=e.shiftKey,c=this._store.activeItems,p=a.dataset;"button"in p?this._handleButtonAction(c,a):"item"in p?this._handleItemAction(c,a,l):"choice"in p&&this._handleChoiceAction(c,a)}e.preventDefault()}}},t._onMouseOver=function(e){var n=e.target;n instanceof HTMLElement&&"choice"in n.dataset&&this._highlightChoice(n)},t._onClick=function(e){var n=e.target,s=this.containerOuter.element.contains(n);if(s)!this.dropdown.isActive&&!this.containerOuter.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):this._isSelectOneElement&&n!==this.input.element&&!this.dropdown.element.contains(n)&&this.hideDropdown();else{var r=this._store.highlightedActiveItems.length>0;r&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0)}},t._onFocus=function(e){var n=this,s,r=e.target,a=this.containerOuter.element.contains(r);if(a){var l=(s={},s[be]=function(){r===n.input.element&&n.containerOuter.addFocusState()},s[we]=function(){n.containerOuter.addFocusState(),r===n.input.element&&n.showDropdown(!0)},s[Ae]=function(){r===n.input.element&&(n.showDropdown(!0),n.containerOuter.addFocusState())},s);l[this.passedElement.element.type]()}},t._onBlur=function(e){var n=this,s=e.target,r=this.containerOuter.element.contains(s);if(r&&!this._isScrollingOnIe){var a,l=this._store.activeItems,c=l.some(function(E){return E.highlighted}),p=(a={},a[be]=function(){s===n.input.element&&(n.containerOuter.removeFocusState(),c&&n.unhighlightAll(),n.hideDropdown(!0))},a[we]=function(){n.containerOuter.removeFocusState(),(s===n.input.element||s===n.containerOuter.element&&!n._canSearch)&&n.hideDropdown(!0)},a[Ae]=function(){s===n.input.element&&(n.containerOuter.removeFocusState(),n.hideDropdown(!0),c&&n.unhighlightAll())},a);p[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},t._onFormReset=function(){this._store.dispatch(rt(this._initialState))},t._highlightChoice=function(e){var n=this;e===void 0&&(e=null);var s=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(s.length){var r=e,a=Array.from(this.dropdown.element.querySelectorAll("."+this.config.classNames.highlightedState));a.forEach(function(l){l.classList.remove(n.config.classNames.highlightedState),l.setAttribute("aria-selected","false")}),r?this._highlightPosition=s.indexOf(r):(s.length>this._highlightPosition?r=s[this._highlightPosition]:r=s[s.length-1],r||(r=s[0])),r.classList.add(this.config.classNames.highlightedState),r.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(ae.highlightChoice,{el:r}),this.dropdown.isActive&&(this.input.setActiveDescendant(r.id),this.containerOuter.setActiveDescendant(r.id))}},t._addItem=function(e){var n=e.value,s=e.label,r=s===void 0?null:s,a=e.choiceId,l=a===void 0?-1:a,c=e.groupId,p=c===void 0?-1:c,E=e.customProperties,b=E===void 0?null:E,T=e.placeholder,F=T===void 0?!1:T,D=e.keyCode,N=D===void 0?null:D,M=typeof n=="string"?n.trim():n,H=N,z=b,te=this._store.items,ne=r||M,ye=l||-1,Ee=p>=0?this._store.getGroupById(p):null,Oe=te?te.length+1:1;return this.config.prependValue&&(M=this.config.prependValue+M.toString()),this.config.appendValue&&(M+=this.config.appendValue.toString()),this._store.dispatch(it({value:M,label:ne,id:Oe,choiceId:ye,groupId:p,customProperties:b,placeholder:F,keyCode:H})),this._isSelectOneElement&&this.removeActiveItems(Oe),this.passedElement.triggerEvent(ae.addItem,{id:Oe,value:M,label:ne,customProperties:z,groupValue:Ee&&Ee.value?Ee.value:void 0,keyCode:H}),this},t._removeItem=function(e){if(!e||!B("Object",e))return this;var n=e.id,s=e.value,r=e.label,a=e.choiceId,l=e.groupId,c=l>=0?this._store.getGroupById(l):null;return this._store.dispatch(nt(n,a)),c&&c.value?this.passedElement.triggerEvent(ae.removeItem,{id:n,value:s,label:r,groupValue:c.value}):this.passedElement.triggerEvent(ae.removeItem,{id:n,value:s,label:r}),this},t._addChoice=function(e){var n=e.value,s=e.label,r=s===void 0?null:s,a=e.isSelected,l=a===void 0?!1:a,c=e.isDisabled,p=c===void 0?!1:c,E=e.groupId,b=E===void 0?-1:E,T=e.customProperties,F=T===void 0?null:T,D=e.placeholder,N=D===void 0?!1:D,M=e.keyCode,H=M===void 0?null:M;if(!(typeof n>"u"||n===null)){var z=this._store.choices,te=r||n,ne=z?z.length+1:1,ye=this._baseId+"-"+this._idNames.itemChoice+"-"+ne;this._store.dispatch(Qe({id:ne,groupId:b,elementId:ye,value:n,label:te,disabled:p,customProperties:F,placeholder:N,keyCode:H})),l&&this._addItem({value:n,label:te,choiceId:ne,customProperties:F,placeholder:N,keyCode:H})}},t._addGroup=function(e){var n=this,s=e.group,r=e.id,a=e.valueKey,l=a===void 0?"value":a,c=e.labelKey,p=c===void 0?"label":c,E=B("Object",s)?s.choices:Array.from(s.getElementsByTagName("OPTION")),b=r||Math.floor(new Date().valueOf()*Math.random()),T=s.disabled?s.disabled:!1;if(E){this._store.dispatch(je({value:s.label,id:b,active:!0,disabled:T}));var F=function(N){var M=N.disabled||N.parentNode&&N.parentNode.disabled;n._addChoice({value:N[l],label:B("Object",N)?N[p]:N.innerHTML,isSelected:N.selected,isDisabled:M,groupId:b,customProperties:N.customProperties,placeholder:N.placeholder})};E.forEach(F)}else this._store.dispatch(je({value:s.label,id:s.id,active:!1,disabled:s.disabled}))},t._getTemplate=function(e){var n;if(!e)return null;for(var s=this.config.classNames,r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return(n=this._templates[e]).call.apply(n,[this,s].concat(a))},t._createTemplates=function(){var e=this.config.callbackOnCreateTemplates,n={};e&&typeof e=="function"&&(n=e.call(this,se)),this._templates=h()(Fe,n)},t._createElements=function(){this.containerOuter=new Le({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new Le({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new Ye({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new xe({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new xe({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new Se({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},t._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},t._addPredefinedGroups=function(e){var n=this,s=this.passedElement.placeholderOption;s&&s.parentNode.tagName==="SELECT"&&this._addChoice({value:s.value,label:s.innerHTML,isSelected:s.selected,isDisabled:s.disabled,placeholder:!0}),e.forEach(function(r){return n._addGroup({group:r,id:r.id||null})})},t._addPredefinedChoices=function(e){var n=this;this.config.shouldSort&&e.sort(this.config.sorter);var s=e.some(function(a){return a.selected}),r=e.findIndex(function(a){return a.disabled===void 0||!a.disabled});e.forEach(function(a,l){var c=a.value,p=a.label,E=a.customProperties,b=a.placeholder;if(n._isSelectElement)if(a.choices)n._addGroup({group:a,id:a.id||null});else{var T=n._isSelectOneElement&&!s&&l===r,F=T?!0:a.selected,D=a.disabled;n._addChoice({value:c,label:p,isSelected:F,isDisabled:D,customProperties:E,placeholder:b})}else n._addChoice({value:c,label:p,isSelected:a.selected,isDisabled:a.disabled,customProperties:E,placeholder:b})})},t._addPredefinedItems=function(e){var n=this;e.forEach(function(s){typeof s=="object"&&s.value&&n._addItem({value:s.value,label:s.label,choiceId:s.id,customProperties:s.customProperties,placeholder:s.placeholder}),typeof s=="string"&&n._addItem({value:s})})},t._setChoiceOrItem=function(e){var n=this,s=W(e).toLowerCase(),r={object:function(){e.value&&(n._isTextElement?n._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}):n._addChoice({value:e.value,label:e.label,isSelected:!0,isDisabled:!1,customProperties:e.customProperties,placeholder:e.placeholder}))},string:function(){n._isTextElement?n._addItem({value:e}):n._addChoice({value:e,label:e,isSelected:!0,isDisabled:!1})}};r[s]()},t._findAndSelectChoiceByValue=function(e){var n=this,s=this._store.choices,r=s.find(function(a){return n.config.valueComparer(a.value,e)});r&&!r.selected&&this._addItem({value:r.value,label:r.label,choiceId:r.id,groupId:r.groupId,customProperties:r.customProperties,placeholder:r.placeholder,keyCode:r.keyCode})},t._generatePlaceholderValue=function(){if(this._isSelectElement){var e=this.passedElement.placeholderOption;return e?e.text:!1}var n=this.config,s=n.placeholder,r=n.placeholderValue,a=this.passedElement.element.dataset;if(s){if(r)return r;if(a.placeholder)return a.placeholder}return!1},o}();Q.default=ct}]).default})})(Be);var ut=Be.exports;const pt=ht(ut);export{pt as C,ut as c};
//# sourceMappingURL=choices-5b1be226.js.map
