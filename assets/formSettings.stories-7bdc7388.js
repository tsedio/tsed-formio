import{a as x,j as u}from"./jsx-runtime-91a467a5.js";import{i as F}from"./FormBuilder-1c4b949e.js";import{a as f}from"./noop-1202c7f9.js";import{r as l}from"./index-8db94870.js";import{F as k}from"./form.component-93145808.js";import{c as _}from"./cloneDeep-ce19361f.js";import"./_commonjsHelpers-042e6b4d.js";import"./_baseForOwn-522e9593.js";import"./isPlainObject-5f39871e.js";import"./debounce-83d9752c.js";import"./choices-5b1be226.js";import"./index-14b03c13.js";import"./index-1fc0ca9a.js";function w(){return{type:"form",tags:[],components:[{input:!0,key:"action",placeholder:"Enter the custom submission URL",label:"Custom Action Url",labelPosition:"top",widget:{type:"input"},type:"url",mask:!1,inputType:"url",inputFormat:"plain",spellcheck:!0,id:"efyrzea",attributes:{"data-testid":"action"}},{input:!0,key:"tags",placeholder:"Add tags",label:"Form tags",widget:{type:"input"},type:"tags",delimeter:",",storeas:"array",maxTags:0,id:"erxcyw"},{input:!0,key:"properties",label:"Custom Properties",labelPosition:"top",type:"datamap",addAnother:"Add Another",disableAddingRemovingRows:!1,keyBeforeValue:!0,valueComponent:{type:"textfield",key:"value",label:"Value",input:!0,hideLabel:!0},id:"ezne35"}],display:"form"}}function b(t){return{data:{action:t.action,tags:t.tags,properties:t.properties}}}function A(t,e){return{..._(t),tags:e.data.tags,action:e.data.action,properties:e.data.properties}}function j({form:t,onSubmit:e=f,options:p}){const o=w(),[c,r]=l.useState(!0),[a,n]=l.useState(()=>b(t)),d=({data:i,isValid:m})=>{m&&n({data:i}),r(m)};return l.useEffect(()=>{const i=b(t);t!=null&&t._id&&!F(a.data,i.data)&&n(i)},[t==null?void 0:t._id]),{options:p,form:o,type:t.type,submission:a,onChange:d,isValid:c,setIsValid:r,onSubmit:()=>{e(A(t,a))}}}function h(t){const{form:e,submission:p,options:o={},onChange:c,onSubmit:r,isValid:a}=j(t),n=o.i18n||(d=>d);return x("div",{children:[u(k,{form:e,submission:p,onChange:c,options:o}),u("button",{"data-testid":"submit",disabled:!a,className:"mt-5 btn btn-primary",onClick:r,type:"submit",children:n("Save settings")})]})}const B={title:"ReactFormio/FormSettings",component:h,argTypes:{onSubmit:{action:"onSubmit"},actionInfo:{control:{type:"object"}},options:{control:{type:"object"}}},parameters:{docs:{source:{type:"code"}}}},s=t=>u(h,{...t});s.args={form:{_id:"6023f8fe4b1a2ab9a3aae096",type:"form",tags:[],owner:"5d0797a382461b6656d2c790",access:[{roles:["5d0797bc872fc747da559858","5d0797bc872fc71d05559859","5d0797bc872fc7da3b55985a"],type:"read_all"}],submissionAccess:[{roles:["5d0797bc872fc747da559858"],type:"read_all"}],controller:"",properties:{},settings:{},name:"textField",path:"textfield",machineName:"tcspjwhsevrzpcd:textField"},options:{template:"tailwind",iconset:"bx"}};var g,y,S;s.parameters={...s.parameters,docs:{...(g=s.parameters)==null?void 0:g.docs,source:{originalSource:`(args: any) => {
  // @ts-ignore
  return <FormSettings {...args} />;
}`,...(S=(y=s.parameters)==null?void 0:y.docs)==null?void 0:S.source}}};const O=["Sandbox"];export{s as Sandbox,O as __namedExportsOrder,B as default};
//# sourceMappingURL=formSettings.stories-7bdc7388.js.map
