{"version":3,"file":"alert.stories-e5a96749.js","sources":["../../../react-formio/src/components/alert/alert.component.tsx"],"sourcesContent":["import React from \"react\";\n\nfunction formatError(error: any): any {\n  if (typeof error === \"string\") {\n    return error;\n  }\n\n  if (Array.isArray(error)) {\n    return error.map(formatError);\n  }\n\n  if (Object.prototype.hasOwnProperty.call(error, \"errors\")) {\n    return Object.keys(error.errors).map((key, index) => {\n      const item = error.errors[key];\n      return (\n        <div key={index}>\n          <strong>\n            {item.name} ({item.path})\n          </strong>{\" \"}\n          - {item.message}\n        </div>\n      );\n    });\n  }\n\n  // If this is a standard error.\n  if (Object.prototype.hasOwnProperty.call(error, \"message\")) {\n    return error.message;\n  }\n\n  // If this is a joy validation error.\n  if (Object.prototype.hasOwnProperty.call(error, \"name\") && error.name === \"ValidationError\") {\n    return error.details.map((item: any, index: number) => {\n      return <div key={index}>{item.message}</div>;\n    });\n  }\n\n  // If a conflict error occurs on a form, the form is returned.\n  if (Object.prototype.hasOwnProperty.call(error, \"_id\") && Object.prototype.hasOwnProperty.call(error, \"display\")) {\n    return \"Another user has saved this form already. Please reload and re-apply your changes.\";\n  }\n\n  return \"An error occurred. See console logs for details.\";\n}\n\nexport interface AlertProps {\n  error?: any | any[];\n  type?: string;\n}\n\nexport function Alert({ error, type = \"danger\" }: AlertProps) {\n  if (!error || (Array.isArray(error) && !error.length)) {\n    return null;\n  }\n\n  return (\n    <div className={`alert alert-${type}`} role='alert'>\n      {formatError(error)}\n    </div>\n  );\n}\n"],"names":["formatError","error","key","index","item","jsxs","jsx","Alert","type"],"mappings":"wHAEA,SAASA,EAAYC,EAAiB,CAChC,OAAA,OAAOA,GAAU,SACZA,EAGL,MAAM,QAAQA,CAAK,EACdA,EAAM,IAAID,CAAW,EAG1B,OAAO,UAAU,eAAe,KAAKC,EAAO,QAAQ,EAC/C,OAAO,KAAKA,EAAM,MAAM,EAAE,IAAI,CAACC,EAAKC,IAAU,CAC7C,MAAAC,EAAOH,EAAM,OAAOC,CAAG,EAC7B,SACG,MACC,CAAA,SAAA,CAAAG,EAAC,SACE,CAAA,SAAA,CAAKD,EAAA,KAAK,KAAGA,EAAK,KAAK,GAAA,EAC1B,EAAU,IAAI,KACXA,EAAK,OAAA,CAAA,EAJAD,CAKV,CAAA,CAEH,EAIC,OAAO,UAAU,eAAe,KAAKF,EAAO,SAAS,EAChDA,EAAM,QAIX,OAAO,UAAU,eAAe,KAAKA,EAAO,MAAM,GAAKA,EAAM,OAAS,kBACjEA,EAAM,QAAQ,IAAI,CAACG,EAAWD,IAC3BG,EAAA,MAAA,CAAiB,SAAKF,EAAA,OAAA,EAAbD,CAAqB,CACvC,EAIC,OAAO,UAAU,eAAe,KAAKF,EAAO,KAAK,GAAK,OAAO,UAAU,eAAe,KAAKA,EAAO,SAAS,EACtG,qFAGF,kDACT,CAOO,SAASM,EAAM,CAAE,MAAAN,EAAO,KAAAO,EAAO,UAAwB,CACxD,MAAA,CAACP,GAAU,MAAM,QAAQA,CAAK,GAAK,CAACA,EAAM,OACrC,KAIPK,EAAC,OAAI,UAAW,eAAeE,IAAQ,KAAK,QACzC,SAAYR,EAAAC,CAAK,CACpB,CAAA,CAEJ;;"}