{"version":3,"file":"formsTable.stories-cd06aa86.js","sources":["../../../react-formio/src/components/forms-table/components/formCell.component.tsx","../../../react-formio/src/components/forms-table/formsTable.component.tsx"],"sourcesContent":["import classnames from \"classnames\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport { CellProps } from \"react-table\";\n\nimport { FormSchema } from \"../../../interfaces\";\nimport { iconClass } from \"../../../utils/iconClass\";\nimport { stopPropagationWrapper } from \"../../../utils/stopPropagationWrapper\";\n\nexport function FormsCell(props: CellProps<FormSchema> & { icon: string; i18n: (f: string) => string }) {\n  const {\n    icon = \"server\",\n    row: { original: form }\n  } = props;\n\n  return (\n    <div className={\"p-1\"}>\n      <h4 className={\"text-primary text-lg flex items-center\"}>\n        <i className={classnames(iconClass(undefined, icon), \"mr-1\")} />\n        {form.title}\n      </h4>\n\n      <ul className='reset-list text-gray-500'>\n        <li className={\"text-sm\"}>Name: {form.name || form.machineName}</li>\n        <li className='mt-5'>\n          <span className='badge bg-light mr-1'>\n            <i className={classnames(iconClass(undefined, \"history\"), \"mr-1\")} />\n            <span>Updated {moment(form.modified).fromNow()}</span>\n          </span>\n\n          {(form.tags || []).map((tag, index) => (\n            <button\n              key={index}\n              className='badge badge-hover bg-secondary mr-1'\n              onClick={stopPropagationWrapper(() => {\n                props.setFilter(\"tags\", tag);\n                props.gotoPage(0);\n              })}\n            >\n              <i className={classnames(iconClass(undefined, \"tags\"), \"mr-1\")} />\n              {tag}\n            </button>\n          ))}\n        </li>\n      </ul>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport { FormSchema } from \"../../interfaces\";\nimport { DefaultColumnFilter } from \"../table/filters/defaultColumnFilter.component\";\nimport { SelectColumnFilter } from \"../table/filters/selectColumnFilter.component\";\nimport { TableProps } from \"../table/hooks/useCustomTable.hook\";\nimport { Table } from \"../table/table.component\";\nimport { FormsCell as DefaultFormCell } from \"./components/formCell.component\";\n\nexport type FormsTableProps = Omit<TableProps<FormSchema>, \"columns\"> & {\n  icon?: string;\n  tags?: { label: string; value: string }[];\n};\n\nexport function FormsTable({ Cell, ...props }: FormsTableProps) {\n  const { i18n = (f: string) => f, tags } = props;\n  const FormCell = Cell || (DefaultFormCell as any);\n  const columns = [\n    {\n      Header: i18n(\"Title\"),\n      accessor: \"title\",\n      id: \"title\",\n      Cell: (props: any) => <FormCell {...props} icon={props.icon} i18n={i18n} />,\n      Filter: DefaultColumnFilter,\n      colspan: 2\n    },\n    {\n      Header: i18n(\"Tags\"),\n      accessor: \"tags\",\n      id: \"tags\",\n      hidden: true,\n      Filter: (props: any) =>\n        tags && tags.length ? (\n          <SelectColumnFilter {...props} column={{ ...props.columns, choices: tags }} />\n        ) : (\n          <DefaultColumnFilter {...props} />\n        )\n    }\n  ];\n\n  return <Table {...(props as any)} columns={columns} />;\n}\n"],"names":["FormsCell","props","icon","form","jsxs","jsx","classnames","iconClass","moment","tag","index","stopPropagationWrapper","FormsTable","Cell","i18n","f","tags","FormCell","DefaultFormCell","columns","DefaultColumnFilter","SelectColumnFilter","Table"],"mappings":"s4BASO,SAASA,EAAUC,EAA8E,CAChG,KAAA,CACJ,KAAAC,EAAO,SACP,IAAK,CAAE,SAAUC,CAAK,CACpB,EAAAF,EAGF,OAAAG,EAAC,MAAI,CAAA,UAAW,MACd,SAAA,CAACA,EAAA,KAAA,CAAG,UAAW,yCACb,SAAA,CAACC,EAAA,IAAA,CAAE,UAAWC,EAAWC,EAAU,OAAWL,CAAI,EAAG,MAAM,EAAG,EAC7DC,EAAK,KAAA,EACR,EAEAC,EAAC,KAAG,CAAA,UAAU,2BACZ,SAAA,CAACA,EAAA,KAAA,CAAG,UAAW,UAAW,SAAA,CAAA,SAAOD,EAAK,MAAQA,EAAK,WAAA,EAAY,EAC/DC,EAAC,KAAG,CAAA,UAAU,OACZ,SAAA,CAACA,EAAA,OAAA,CAAK,UAAU,sBACd,SAAA,CAACC,EAAA,IAAA,CAAE,UAAWC,EAAWC,EAAU,OAAW,SAAS,EAAG,MAAM,EAAG,IAClE,OAAK,CAAA,SAAA,CAAA,WAASC,EAAOL,EAAK,QAAQ,EAAE,QAAQ,CAAA,EAAE,CAAA,EACjD,GAEEA,EAAK,MAAQ,IAAI,IAAI,CAACM,EAAKC,IAC3BN,EAAC,SAAA,CAEC,UAAU,sCACV,QAASO,EAAuB,IAAM,CAC9BV,EAAA,UAAU,OAAQQ,CAAG,EAC3BR,EAAM,SAAS,CAAC,CAAA,CACjB,EAED,SAAA,CAACI,EAAA,IAAA,CAAE,UAAWC,EAAWC,EAAU,OAAW,MAAM,EAAG,MAAM,EAAG,EAC/DE,CAAA,CAAA,EARIC,CAAA,CAUR,CAAA,EACH,CAAA,EACF,CACF,CAAA,CAAA,CAEJ,CCjCO,SAASE,EAAW,CAAE,KAAAC,EAAM,GAAGZ,GAA0B,CAC9D,KAAM,CAAE,KAAAa,EAAQC,GAAcA,EAAG,KAAAC,CAAS,EAAAf,EACpCgB,EAAWJ,GAASK,EACpBC,EAAU,CACd,CACE,OAAQL,EAAK,OAAO,EACpB,SAAU,QACV,GAAI,QACJ,KAAOb,GAAgBI,EAAAY,EAAA,CAAU,GAAGhB,EAAO,KAAMA,EAAM,KAAM,KAAAa,CAAY,CAAA,EACzE,OAAQM,EACR,QAAS,CACX,EACA,CACE,OAAQN,EAAK,MAAM,EACnB,SAAU,OACV,GAAI,OACJ,OAAQ,GACR,OAASb,GACPe,GAAQA,EAAK,OACXX,EAACgB,EAAoB,CAAA,GAAGpB,EAAO,OAAQ,CAAE,GAAGA,EAAM,QAAS,QAASe,GAAQ,EAE5EX,EAACe,EAAqB,CAAA,GAAGnB,EAAO,CAEtC,CAAA,EAGF,OAAQI,EAAAiB,EAAA,CAAO,GAAIrB,EAAe,QAAAkB,CAAkB,CAAA,CACtD;;;;"}