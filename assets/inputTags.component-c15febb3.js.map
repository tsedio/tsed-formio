{"version":3,"file":"inputTags.component-c15febb3.js","sources":["../../../react-formio/src/components/input-tags/inputTags.component.tsx"],"sourcesContent":["import Choices from \"@formio/choices.js\";\nimport uniq from \"lodash/uniq\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect, useRef } from \"react\";\n\nimport { FormControl, FormControlProps } from \"../form-control/formControl.component\";\n\nexport interface InputTagsProps<T = any> extends Omit<FormControlProps, \"description\" | \"prefix\" | \"suffix\"> {\n  value?: T;\n  onChange?: (name: string, value: T) => void;\n  placeholder?: string;\n\n  [key: string]: any;\n}\n\nexport function InputTags({ name, value = [], label, onChange, required, description, prefix, suffix, ...props }: InputTagsProps) {\n  const ref: any = useRef();\n\n  useEffect(() => {\n    const instance = new Choices(ref.current, {\n      delimiter: \",\",\n      editItems: true,\n      removeItemButton: true\n    });\n\n    instance.setValue([].concat(value, []));\n\n    instance.passedElement.element.addEventListener(\"addItem\", (event: any) => {\n      onChange && onChange(name, uniq(value.concat(event.detail.value)));\n    });\n\n    instance.passedElement.element.addEventListener(\"removeItem\", (event: any) => {\n      onChange &&\n        onChange(\n          name,\n          value.filter((v: string) => v !== event.detail.value)\n        );\n    });\n\n    return () => {\n      instance.destroy();\n    };\n  }, []);\n\n  return (\n    <FormControl name={name} label={label} required={required} description={description} prefix={prefix} suffix={suffix}>\n      <input ref={ref} type='text' {...props} id={name} required={required} />\n    </FormControl>\n  );\n}\n\nInputTags.propTypes = {\n  label: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  value: PropTypes.array,\n  required: PropTypes.bool,\n  onChange: PropTypes.func\n};\n"],"names":["InputTags","name","value","label","onChange","required","description","prefix","suffix","props","ref","useRef","useEffect","instance","Choices","event","uniq","v","FormControl","jsx","PropTypes"],"mappings":"uQAeO,SAASA,EAAU,CAAE,KAAAC,EAAM,MAAAC,EAAQ,CAAA,EAAI,MAAAC,EAAO,SAAAC,EAAU,SAAAC,EAAU,YAAAC,EAAa,OAAAC,EAAQ,OAAAC,EAAQ,GAAGC,GAAyB,CAChI,MAAMC,EAAWC,EAAAA,SAEjBC,OAAAA,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAW,IAAIC,EAAQJ,EAAI,QAAS,CACxC,UAAW,IACX,UAAW,GACX,iBAAkB,EAAA,CACnB,EAED,OAAAG,EAAS,SAAS,CAAC,EAAE,OAAOX,EAAO,CAAE,CAAA,CAAC,EAEtCW,EAAS,cAAc,QAAQ,iBAAiB,UAAYE,GAAe,CAC7DX,GAAAA,EAASH,EAAMe,EAAKd,EAAM,OAAOa,EAAM,OAAO,KAAK,CAAC,CAAC,CAAA,CAClE,EAEDF,EAAS,cAAc,QAAQ,iBAAiB,aAAeE,GAAe,CAE1EX,GAAAA,EACEH,EACAC,EAAM,OAAQe,GAAcA,IAAMF,EAAM,OAAO,KAAK,CAAA,CACtD,CACH,EAEM,IAAM,CACXF,EAAS,QAAQ,CAAA,CAErB,EAAG,CAAE,CAAA,IAGFK,EAAY,CAAA,KAAAjB,EAAY,MAAAE,EAAc,SAAAE,EAAoB,YAAAC,EAA0B,OAAAC,EAAgB,OAAAC,EACnG,SAAAW,EAAC,QAAM,CAAA,IAAAT,EAAU,KAAK,OAAQ,GAAGD,EAAO,GAAIR,EAAM,SAAAI,EAAoB,CACxE,CAAA,CAEJ,CAEAL,EAAU,UAAY,CACpB,MAAOoB,EAAU,OACjB,KAAMA,EAAU,OAAO,WACvB,MAAOA,EAAU,MACjB,SAAUA,EAAU,KACpB,SAAUA,EAAU,IACtB"}