{"version":3,"file":"selectColumnFilter.component-bc5dd5fe.js","sources":["../../../react-formio/src/components/table/filters/selectColumnFilter.component.tsx"],"sourcesContent":["import React from \"react\";\nimport { FilterProps } from \"react-table\";\n\nimport { Select } from \"../../select/select.component\";\n\nexport function useSelectColumnFilter<D extends Record<string, unknown> = {}>(props: FilterProps<D>) {\n  const { column } = props;\n  const { id, preFilteredRows } = column;\n  const { choices: customChoices } = column as any;\n  const { filterValue, setFilter } = column;\n\n  const choices = (() => {\n    if (customChoices) {\n      if (typeof customChoices === \"function\") {\n        return customChoices(props);\n      }\n      return customChoices;\n    }\n\n    return [...new Set(preFilteredRows.map((row) => row.values[id]))]\n      .filter((value) => value)\n      .map((value) => ({\n        label: value,\n        value\n      }));\n  })();\n\n  const onChange = (_: string, value: any) => {\n    setFilter(value || undefined);\n  };\n\n  return {\n    value: filterValue,\n    onChange,\n    choices: [{ value: \"\", label: \"All\" }].concat(choices)\n  };\n}\n\nexport function SelectColumnFilter<D extends Record<string, unknown> = {}>(props: FilterProps<D>) {\n  const { value, choices, onChange } = useSelectColumnFilter(props);\n\n  return (\n    <Select\n      key={`filter-${props.column.id}`}\n      name={`filter-${props.column.id}`}\n      size={\"sm\"}\n      value={value}\n      choices={choices}\n      onChange={onChange}\n    />\n  );\n}\n"],"names":["useSelectColumnFilter","props","column","id","preFilteredRows","customChoices","filterValue","setFilter","choices","row","value","_","SelectColumnFilter","onChange","jsx","Select"],"mappings":"iGAKO,SAASA,EAA8DC,EAAuB,CAC7F,KAAA,CAAE,OAAAC,CAAW,EAAAD,EACb,CAAE,GAAAE,EAAI,gBAAAC,CAAoB,EAAAF,EAC1B,CAAE,QAASG,CAAkB,EAAAH,EAC7B,CAAE,YAAAI,EAAa,UAAAC,CAAc,EAAAL,EAE7BM,GAAW,IACXH,EACE,OAAOA,GAAkB,WACpBA,EAAcJ,CAAK,EAErBI,EAGF,CAAC,GAAG,IAAI,IAAID,EAAgB,IAAKK,GAAQA,EAAI,OAAON,CAAE,CAAC,CAAC,CAAC,EAC7D,OAAQO,GAAUA,CAAK,EACvB,IAAKA,IAAW,CACf,MAAOA,EACP,MAAAA,CACA,EAAA,KAOC,MAAA,CACL,MAAOJ,EACP,SANe,CAACK,EAAWD,IAAe,CAC1CH,EAAUG,GAAS,MAAS,CAAA,EAM5B,QAAS,CAAC,CAAE,MAAO,GAAI,MAAO,KAAO,CAAA,EAAE,OAAOF,CAAO,CAAA,CAEzD,CAEO,SAASI,EAA2DX,EAAuB,CAChG,KAAM,CAAE,MAAAS,EAAO,QAAAF,EAAS,SAAAK,CAAS,EAAIb,EAAsBC,CAAK,EAG9D,OAAAa,EAACC,EAAA,CAEC,KAAM,UAAUd,EAAM,OAAO,KAC7B,KAAM,KACN,MAAAS,EACA,QAAAF,EACA,SAAAK,CAAA,EALK,UAAUZ,EAAM,OAAO,IAAA,CAQlC"}